<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <!-- Favicon -->
    <link rel="shortcut icon" type="image/x-icon" href="assets/imgs/theme/favicon.svg">
    <!-- Template CSS -->
    <link rel="stylesheet" href="assets/css/maind134.css?v=3.4">
</head>
<body>
    <%-include('navbar.ejs')-%>
    <script>
        function validateForm() {
            // Get all form inputs
            var inputs = document.getElementsByTagName('input');
            var errors = [];
    
            // Iterate through the inputs and trim their values
            for (var i = 0; i < inputs.length; i++) {
                if (inputs[i].type !== "submit") {  // Exclude submit button
                    inputs[i].value = inputs[i].value.trim();
                }
            }
    
            // Check if any required field is empty after trimming spaces
            for (var i = 0; i < inputs.length; i++) {
                if (inputs[i].hasAttribute('required') && inputs[i].value === "") {
                    errors.push(inputs[i].name);
                }
            }
    
            // Display error message if there are validation errors
            if (errors.length > 0) {
                alert("Please fill in all required fields: " + errors.join(", "));
                return false;
            }
    
            return true;  // Form is valid, proceed with submission
        }
    </script>
    <div class="col-md-6 m-auto d-block my-5">
        <div class="mb-25">
            <h4>Add Address</h4>
        </div>
        <form method="post" action="/editaddress?id=<%=selectedAddress._id%>" onsubmit="return validateForm()">
            <div class="form-group">
                <input type="text" required="" name="firstname" placeholder="First name *" value="<%=selectedAddress.firstname%>">
            </div>
            <div class="form-group">
                <input type="text" required="" name="lastname" placeholder="Last name *" value="<%=selectedAddress.lastname%>">
            </div>
            
            <div class="form-group">
                <input type="text" name="addressline1" required="" placeholder="Address *" value="<%=selectedAddress.a1%>">
            </div>
            <div class="form-group">
                <input type="text" name="addressline2" required="" placeholder="Address line2" value="<%=selectedAddress.a2%>">
            </div>
            <div class="form-group">
                <input required="" type="text" name="city" placeholder="City / Town *" value="<%=selectedAddress.city%>">
            </div>
            <div class="form-group">
                <input required="" type="text" name="state" placeholder="State / County *" value="<%=selectedAddress.state%>">
            </div>
            <div class="form-group">
                <input required="" type="text" name="postcode" placeholder="Postcode / ZIP *" value="<%=selectedAddress.postcode%>">
            </div>
            <div class="form-group">
                <input required="" type="text" name="phone" placeholder="Phone *" value="<%=selectedAddress.phone%>">
            </div>
            <div class="form-group">
                <input required="" type="text" name="email" placeholder="Email address *" value="<%=selectedAddress.email%>">
            </div>
            
            <div class="col-md-12 my-3">
                <a><button type="submit" class="btn btn-fill-out submit" name="submit" value="Submit">Update Address</button></a>
            </div>
        </form>
    </div>
</body>
</html>