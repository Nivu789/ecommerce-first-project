<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Document</title>
	<link rel='stylesheet' href='https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css'>
	<link rel="stylesheet" href="assets/css/otp.css">
	
</head>
<body>
	<section class="container-fluid bg-body-tertiary d-block">
		<div class="row justify-content-center">
			<div class="col-12 col-md-6 col-lg-4" style="min-width: 500px;">
			  <div class="card bg-white mb-5 mt-5 border-0" style="box-shadow: 0 12px 15px rgba(0, 0, 0, 0.02);">
				<div class="card-body p-5 text-center">
				  <h4>Verify</h4>
				  <p>Your code was sent to you via email</p>
					<form action="#" method="post">
						<div class="otp-field mb-4">
							<!-- <input type="number" name="otp"/>
							<input type="number" name="otp"/>
							<input type="number" name="otp"/>
							<input type="number" name="otp"/>
							<input type="number" name="otp"/>
							<input type="number" name="otp"/> -->
							
							
							<input type="text" name="otp" style="width: 400px;">
						  </div>
			  
						  <button type="submit" class="btn btn-primary mb-3">
							Verify
						  </button>
						  <p id="countdown"></p>
					</form>
				  
					<%if(typeof message!='undefined'){%>
						<p><%=message%></p>
						<%}%>
						
				  <p class="resend text-muted mb-0">
					<!-- Didn't receive code? <a href="">Request again</a> -->
					<a href="/resendotp"><button class="btn btn-warning" id="resendButton" onclick="startTimer()">Resend OTP</button></a>
				  </p>
				</div>
			  </div>
			</div>
		  </div>
	  </section>
	  <script>
		
		  let resendOtp = document.getElementById("resendButton");
		  
		  let timeLeft = 60;
		  function updateTimer(){
			const countDownElement = document.getElementById("countdown")
			countDownElement.innerHTML = `OTP expires in ${timeLeft} seconds`

			if(timeLeft>0){
				timeLeft--;
				setTimeout(updateTimer,1000);
				if(timeLeft==30){
					resendOtp.style.display = "inline"
				}
			}else{
				countDownElement.innerHTML = "OTP was exhausted"
				// resendOtp.style.display = "inline"
				// timeLeft=5;
			}

		}

		function startTimer(){
			updateTimer();
			resendOtp.style.display = "none";
		}

		startTimer();

	  </script>

</body>
</html>